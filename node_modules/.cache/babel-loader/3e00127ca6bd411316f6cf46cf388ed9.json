{"ast":null,"code":"var _jsxFileName = \"/Users/TravelComputer/Desktop/node_sandbox/reactapp/node_modules/react-komponent/src/App.js\";\nimport React from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport { add, increment, decrement } from './actions';\nimport { Route, Switch } from 'react-router-dom';\nimport User from './components/signIn';\nimport { Component } from './components/componentFunction';\nexport class Posts extends Component {\n  constructor(props) {\n    super(props);\n    const thiss = this;\n    this.state = {\n      posts: [{\n        title: 'fun'\n      }, {\n        title: 'fun'\n      }]\n    };\n  }\n\n  fetchPosts(callback) {\n    let dispatch = this.props.dispatch || this.useDispatch;\n    dispatch(this.actions.fetchDataStart('posts', callback));\n  }\n\n  componentDidMount() {\n    const thiss = this;\n    console.log('---------component did mount----------');\n    console.log('thiz', this);\n    this.fetchPosts(() => thiss.setState({\n      posts: [{\n        title: 'Another cool post!'\n      }, ...thiss.state.posts]\n    }, () => {\n      console.log('the state after fetching', thiss.state);\n    }));\n    console.log('next function call !!!!!!!!!!!!!!!!!'); // throw new Error\n  }\n\n  sagas() {\n    const thiss = this;\n\n    function* fetchDataAsync(action) {\n      let callback = action.callback;\n      let name = action.name || thiss.componentName;\n      console.log('trying ....');\n\n      const delay = ms => new Promise(res => setTimeout(res, ms));\n\n      let data;\n\n      try {\n        if (window.__PRELOADED_STATE__[name]) {\n          data = window.__PRELOADED_STATE__[name];\n          console.error('we have preloaded state!');\n        } else {\n          const fetchedData = yield thiss.saga.call(fetch, 'https://jsonplaceholder.typicode.com/posts');\n          data = yield fetchedData.json();\n        }\n\n        yield delay(5000);\n        let res = yield thiss.saga.put(thiss.actions.fetchDataComplete(data, callback, name));\n        if (callback) action.callback();\n        return res;\n      } catch (error) {\n        console.error(error.message);\n      }\n    }\n\n    return [function* fetchDataStart() {\n      yield thiss.saga.takeLatest('POSTS_FETCH_DATA_START', fetchDataAsync);\n    }];\n  }\n\n  render() {\n    let thiss = this;\n    console.log('-------------render------------------');\n    console.log('this component at render', thiss);\n    if (this.props.mapState) console.log('THEEPOSTS', this.props.mapState.posts);\n    let posts = this.state.posts || this.state.posts.posts || [];\n    console.log(\"SELECTOR\", this.selector());\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, \"Post Titles:\"), console.log('STATE POSTS IN RENDER', thiss.state.posts), posts.map(post => {\n      return /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 43\n        }\n      }, post.title);\n    }));\n  }\n\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let thiss = this; // const staatee = this.useSelector(state => state)\n\n    const counter = this.useSelector(state => state.counter);\n    const user = this.useSelector(state => state.user);\n    const isLogged = user && user.dbUser ? true : false;\n    const collections = this.useSelector(state => state.collections);\n    console.log('collections', collections);\n\n    const hatsPage = props => {\n      let wildcard = props.match.params ? props.match.params.wildcard : null;\n      if (wildcard) wildcard = wildcard.charAt(0).toUpperCase() + wildcard.slice(1);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 16\n        }\n      }, \"Many, many \", wildcard, \"!\"));\n    };\n\n    const wankPage = props => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }\n      }, \"Many wanks! \", props.match.params.wanker));\n    };\n\n    const Main = pr => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"header\", {\n        className: \"App-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Posts, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }\n      }, \"Counter: \", counter), isLogged ? /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 25\n        }\n      }, \"Information for logged-in user only.\") : '', /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => thiss.useDispatch(add({\n          name: 'anotherOne',\n          id: 4\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }\n      }, \"ADD\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => thiss.useDispatch(increment()),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }\n      }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => thiss.useDispatch(decrement()),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }\n      }, \"-\"), /*#__PURE__*/React.createElement(\"img\", {\n        src: logo,\n        className: \"App-logo\",\n        alt: \"logo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }\n      }, \"Edit \", /*#__PURE__*/React.createElement(\"code\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 20\n        }\n      }, \"src/App.js\"), \" and save to reload.\"), /*#__PURE__*/React.createElement(\"a\", {\n        className: \"App-link\",\n        href: \"https://reactjs.org\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }\n      }, \"Learn React\")));\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/hats/:wildcard\",\n      exact: true,\n      component: hatsPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: pr => /*#__PURE__*/React.createElement(Main, Object.assign({}, pr, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 51\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/user\",\n      component: User,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/wank/:wanker\",\n      component: wankPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nComponent.registerReducers({\n  user: User.reducer,\n  posts: Posts.reducer\n});\nexport default App;","map":{"version":3,"sources":["/Users/TravelComputer/Desktop/node_sandbox/reactapp/node_modules/react-komponent/src/App.js"],"names":["React","add","increment","decrement","Route","Switch","User","Component","Posts","constructor","props","thiss","state","posts","title","fetchPosts","callback","dispatch","useDispatch","actions","fetchDataStart","componentDidMount","console","log","setState","sagas","fetchDataAsync","action","name","componentName","delay","ms","Promise","res","setTimeout","data","window","__PRELOADED_STATE__","error","fetchedData","saga","call","fetch","json","put","fetchDataComplete","message","takeLatest","render","mapState","selector","map","post","App","counter","useSelector","user","isLogged","dbUser","collections","hatsPage","wildcard","match","params","charAt","toUpperCase","slice","wankPage","wanker","Main","pr","id","logo","registerReducers","reducer"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { add,increment,decrement } from './actions'\nimport { Route, Switch } from 'react-router-dom'\nimport User from './components/signIn'\n\nimport { Component } from './components/componentFunction'\n\nexport class Posts extends Component {\n   constructor(props) {\n      super(props)\n      const thiss = this\n      this.state = {\n         posts: [{title:'fun'},{title:'fun'}]\n      }\n   }\n   fetchPosts(callback) {\n      let dispatch = this.props.dispatch || this.useDispatch\n      dispatch(this.actions.fetchDataStart('posts',callback))\n   }\n   componentDidMount() {\n      const thiss = this\n      console.log('---------component did mount----------')\n      console.log('thiz',this)\n      this.fetchPosts(() => thiss.setState({posts:[{title:'Another cool post!'}, ...thiss.state.posts]}, () => { console.log('the state after fetching',thiss.state);  }))\n      console.log('next function call !!!!!!!!!!!!!!!!!')\n      // throw new Error\n   }\n   sagas() { \n      const thiss = this\n      function* fetchDataAsync(action) {\n         let callback = action.callback\n         let name = action.name || thiss.componentName\n         console.log('trying ....')\n         const delay = (ms) => new Promise(res => setTimeout(res, ms))\n         \n         let data\n         try {\n            if (window.__PRELOADED_STATE__[name]) {\n               data = window.__PRELOADED_STATE__[name]\n               console.error('we have preloaded state!')\n            } else {\n               const fetchedData = yield thiss.saga.call(fetch,'https://jsonplaceholder.typicode.com/posts')\n               data = yield fetchedData.json()\n            }\n            yield delay(5000)\n            let res = yield thiss.saga.put(thiss.actions.fetchDataComplete(data,callback,name))\n            if (callback) action.callback()\n            return res\n         } catch (error) {\n            console.error(error.message)\n         }       \n      }\n      return [\n         function* fetchDataStart() {\n            yield thiss.saga.takeLatest('POSTS_FETCH_DATA_START', fetchDataAsync);\n         }         \n      ]\n   }\n   render() { \n      let thiss = this\n      \n      console.log('-------------render------------------')\n      console.log('this component at render',thiss)\n      if (this.props.mapState) console.log('THEEPOSTS',this.props.mapState.posts)\n      let posts = this.state.posts || this.state.posts.posts || []\n      console.log(\"SELECTOR\",this.selector())\n      \n\n      return ( \n         <div>\n            <h1>Post Titles:</h1>\n            { console.log('STATE POSTS IN RENDER',thiss.state.posts) }\n            { \n            // console.log('GET STATE IN RENDER',store.getState()) \n            }\n            {\n               posts.map(post => { return <h2>{post.title}</h2> })\n            }\n            {  }\n         </div>\n      )\n   }\n}\n\n\nclass App extends Component {\n   constructor(props) {\n      super(props)\n   }\n   render() { \n      let thiss = this\n      // const staatee = this.useSelector(state => state)\n      const counter = this.useSelector(state => state.counter)\n      const user = this.useSelector(state => state.user)\n      const isLogged = user && user.dbUser ? true : false\n      const collections = this.useSelector(state => state.collections)\n\n      console.log('collections',collections)\n\n      const hatsPage = (props) => {\n         let wildcard = props.match.params ? props.match.params.wildcard : null\n         if (wildcard) wildcard = wildcard.charAt(0).toUpperCase()+wildcard.slice(1)\n         return (\n            <div className=\"App\">\n               <h1>Many, many {wildcard}!</h1>\n            </div>\n         )\n      }\n\n      const wankPage = (props) => {\n        return (\n           <div className=\"App\">\n              <h1>Many wanks! {props.match.params.wanker}</h1>\n           </div>\n        )\n      }\n\n      const Main = (pr) => { \n        return (\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <Posts></Posts>\n            <h2>Counter: {counter}</h2>\n            {isLogged ? <h3>Information for logged-in user only.</h3> : ''}\n            <button onClick={() => thiss.useDispatch(add({name:'anotherOne',id:4}))}>ADD</button>\n            <button onClick={() => thiss.useDispatch(increment())}>+</button>\n            <button onClick={() => thiss.useDispatch(decrement())}>-</button>\n            <img src={logo} className=\"App-logo\" alt=\"logo\" />\n            <p>\n              Edit <code>src/App.js</code> and save to reload.\n            </p>\n            <a\n              className=\"App-link\"\n              href=\"https://reactjs.org\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Learn React\n            </a>\n          </header>\n        </div>\n      )};\n\n      return (\n      <div>\n            <Route path=\"/hats/:wildcard\" exact component={hatsPage}></Route>\n            <Route exact path=\"/\" render={(pr) => <Main {...pr}></Main>}></Route>\n            <Route exact path=\"/user\" component={User}></Route>\n            <Route path=\"/wank/:wanker\" component={wankPage}></Route>\n      </div>\n\n   )}\n}\n\nComponent.registerReducers({ user: User.reducer, posts: Posts.reducer })\nexport default App;\n"]},"metadata":{},"sourceType":"module"}